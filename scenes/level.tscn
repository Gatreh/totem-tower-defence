[gd_scene load_steps=13 format=3 uid="uid://btu44hybbfikl"]

[ext_resource type="Texture2D" uid="uid://blng11n7kw2rg" path="res://assets/test_map_1.png" id="1_6xki6"]
[ext_resource type="PackedScene" uid="uid://da3aws4vyqcbx" path="res://globals/wave_manager.tscn" id="2_yitaq"]
[ext_resource type="Script" path="res://data/resources/wave_data.gd" id="3_3ioyq"]
[ext_resource type="Script" path="res://scenes/placement_area.gd" id="3_u7px2"]
[ext_resource type="Resource" uid="uid://dkchtfevt4s16" path="res://data/resources/wave_1.tres" id="4_w3rys"]
[ext_resource type="PackedScene" uid="uid://7f6vqfl4ioyb" path="res://scenes/enemies/enemy.tscn" id="5_savff"]
[ext_resource type="Script" path="res://globals/enemy_spawn_data.gd" id="5_ukg8x"]
[ext_resource type="PackedScene" uid="uid://de8stvecwyiu5" path="res://scenes/in-game-ui.tscn" id="6_t23am"]

[sub_resource type="Resource" id="Resource_uxeeu"]
script = ExtResource("5_ukg8x")
enemy_scene = ExtResource("5_savff")
spawn_count = 25
spawn_time = 0.5

[sub_resource type="Resource" id="Resource_k7nfa"]
script = ExtResource("3_3ioyq")
enemy_spawns = Array[ExtResource("5_ukg8x")]([SubResource("Resource_uxeeu")])

[sub_resource type="RectangleShape2D" id="RectangleShape2D_xt4my"]
size = Vector2(84, 52.4852)

[sub_resource type="Curve2D" id="Curve2D_ici8m"]
_data = {
"points": PackedVector2Array(0, 0, 0, 0, -543.487, -42.8953, 0, 0, 0, 0, -143.583, -42.8953, 0, 0, 0, 0, -143.583, -176.812, 0, 0, 0, 0, -271.212, -176.812, 0, 0, 0, 0, -271.212, 183.09, 0, 0, 0, 0, -407.349, 183.09, 0, 0, 0, 0, -407.349, 40.8029, 0, 0, 0, 0, -24.4622, 40.8029, 0, 0, 0, 0, -24.4622, -84.7444, 0, 0, 0, 0, 69.1324, -84.7444, 0, 0, 0, 0, 69.1324, 132.871, 0, 0, 0, 0, -177.617, 132.871, 0, 0, 0, 0, -177.617, 325.377)
}
point_count = 13

[node name="Level" type="Node2D"]
y_sort_enabled = true

[node name="WaveManager" parent="." node_paths=PackedStringArray("path") instance=ExtResource("2_yitaq")]
advancement_mode = 1
path = NodePath("../TestMap1/Path2D")
waves = Array[ExtResource("3_3ioyq")]([ExtResource("4_w3rys"), SubResource("Resource_k7nfa")])

[node name="TestMap1" type="Sprite2D" parent="."]
z_index = -1
position = Vector2(958, 530)
scale = Vector2(1.88045, 1.91163)
texture = ExtResource("1_6xki6")

[node name="PlacementArea" type="Area2D" parent="TestMap1" groups=["placement_area"]]
position = Vector2(-506.716, -291.224)
scale = Vector2(1.05676, 1.07463)
collision_layer = 32768
collision_mask = 0
script = ExtResource("3_u7px2")

[node name="CollisionShape2D" type="CollisionShape2D" parent="TestMap1/PlacementArea"]
position = Vector2(284, 168)
shape = SubResource("RectangleShape2D_xt4my")

[node name="CollisionShape2D2" type="CollisionShape2D" parent="TestMap1/PlacementArea"]
position = Vector2(159, 388.757)
shape = SubResource("RectangleShape2D_xt4my")

[node name="CollisionPolygon2D" type="CollisionPolygon2D" parent="TestMap1/PlacementArea"]
polygon = PackedVector2Array(23.5789, 251, 200, 251, 200, 290, 77, 290, 72.8948, 485.671, 244.997, 485.671, 244, 332, 476, 333, 476, 210, 527, 210, 527, 374, 291, 374, 291, 539, 22.5725, 539)

[node name="CollisionPolygon2D2" type="CollisionPolygon2D" parent="TestMap1/PlacementArea"]
position = Vector2(-1.72342, -1.52588e-05)
scale = Vector2(1, 0.998)
polygon = PackedVector2Array(20.2701, 205.695, 191.152, 207, 191.152, 83, 368, 84, 369, 249, 242, 249, 243, 291, 434, 289, 434, 168, 569, 168, 571, 414, 333, 416, 335, 540, 740.383, 539.81, 738.874, 57.4157, 20.2701, 54.9769)

[node name="TotemPoles" type="Node2D" parent="TestMap1"]
unique_name_in_owner = true
z_index = 1
y_sort_enabled = true
position = Vector2(-958, -530)
scale = Vector2(0.385, 0.385)

[node name="Path2D" type="Path2D" parent="TestMap1"]
curve = SubResource("Curve2D_ici8m")

[node name="CanvasLayer" type="CanvasLayer" parent="." groups=["ui_layer"]]

[node name="InGameUI" parent="CanvasLayer" instance=ExtResource("6_t23am")]
